{"version":3,"sources":["components/Person.js","components/Filter.js","components/InputForm.js","components/PersonForm.js","services/Persons.js","components/Success.js","App.js","index.js"],"names":["Person","name","number","onClick","Filter","text","search","updateSearch","value","onChange","InputForm","PersonForm","newN","newN2","handlenew","handlenew2","addName","name1","name2","onSubmit","type","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Success","message","className","App","useEffect","console","log","personService","allPersons","setPersons","catch","error","useState","persons","name_array","map","person","newName","setNewName","successMessage","setSuccessMessage","newNumber","setNewNumber","setSearchs","filter_persons","filter","toLowerCase","indexOf","event","target","preventDefault","newObj","includes","window","confirm","already_name","find","new_Obj","new_data","setTimeout","newPerson","concat","filter_persons2","deletePerson","Math","random","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f09233de.chunk.js","sourcesContent":["import React from 'react'\n\n\nconst Person =({name, number, onClick})=>{\n    return(\n        <li>{name} {number} <button onClick={onClick}>delete</button></li>\n        \n    )\n}\n\nexport default Person;","import React from 'react'\n\n\nconst Filter =({text,search, updateSearch})=>{\n    return(\n        <div>\n            {text} <input \n        value ={search}\n        onChange={updateSearch}\n        />\n        </div>\n    )\n}\n\nexport default Filter;","import React from 'react'\n\nconst InputForm =({name, value, onChange})=>{\n    return(\n        <div>\n            {name}<input \n            value={value}\n            onChange={onChange}\n            />\n        </div>\n    )}\n\n\n\n\n\n\n\nexport default InputForm;","import React from 'react'\nimport InputForm from './InputForm'\n\nconst PersonForm =({newN, newN2,handlenew,handlenew2,addName, name1, name2})=>{\n    return(\n        <form onSubmit={addName}>\n        <InputForm name={name1} value={newN} onChange={handlenew}/>\n        <InputForm name={name2} value={newN2} onChange={handlenew2}/>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    )\n}\n\nexport default PersonForm;","import axios from 'axios'\n\nconst baseUrl = 'https://secure-shore-49535.herokuapp.com/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst deletePersons = id=>{\n    axios.delete(`${baseUrl}/${id}`)\n}\n\nexport default {  getAll, create, update,  deletePersons}\n","const Success = ({message})=>{\n    if (message === null){\n        return null\n    }\n\n    return (\n        <div className=\"success\">\n            {message}\n        </div>\n    )\n}\n\nexport default Success","import React, { useState, useEffect } from 'react'\nimport Person from './components/Person'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport personService from './services/Persons'\nimport Success from './components/Success'\n\nconst App = () => {\n  // fetching data from database\n  useEffect(()=>{\n    console.log('effect')\n    personService \n    .getAll()\n    .then(allPersons=>\n      setPersons(allPersons))\n    .catch(error => console.log(error));\n      \n  }, [])\n\n  // creating person hook\n  const [ persons, setPersons ] = useState([\n    { name: 'Arto Hellas', number: '040-123456' },\n    { name: 'Ada Lovelace', number: '39-44-5323523' },\n    { name: 'Dan Abramov', number: '12-43-234345' },\n    { name: 'Mary Poppendieck', number: '39-23-6423122' }\n  ]) \n  const name_array = persons.map(person => person.name)\n  //creating name hook\n  const [ newName, setNewName ] = useState('')\n  \n  const handleNewName = (event)=>{\n  setNewName(event.target.value) }\n\n\n  //Creating success hook\n  const[ successMessage, setSuccessMessage] = useState(null)\n\n  \n  //adding persons to the database\n  const addName = (event)=>{\n    event.preventDefault()\n\n      const newObj = {\n      name: newName,\n      number: newNumber\n    }\n    if (name_array.includes(newName)){\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with new one?`)) {\n        const already_name =persons.find(name=>name.name === newName)\n        const new_Obj = {...already_name, number : newNumber}\n        console.log(already_name.id)\n        personService\n        .update(already_name.id, new_Obj)\n        .then(new_data=>{\n          setPersons(persons.map(person=> person.id!==already_name.id ? person : new_data))\n        })\n          setSuccessMessage(`Added ${newName}`)\n          setTimeout(()=>{\n            setSuccessMessage(null)\n          },5000)\n        setNewName('')\n        setNewNumber('')\n        \n        \n        \n\n      }else{\n        setNewName('')\n        setNewNumber('')\n      }\n\n    }\n    else{ personService\n      .create(newObj)\n      .then(newPerson=>\n        setPersons(persons.concat(newPerson))\n        )\n        setSuccessMessage(`Added ${newName}`)\n        setTimeout(()=>{\n          setSuccessMessage(null)\n        },5000)\n      setNewName('')\n      setNewNumber('')\n    }\n   \n  } \n   \n\n  \n  //creating number hook\n  const [ newNumber, setNewNumber] = useState('')\n  const handleNewNumber = (event)=>{\n\n    setNewNumber(event.target.value) }\n  \n  //creating search state\n  const[search, setSearchs] = useState('')\n  const updateSearch = (event)=>{\n    setSearchs(event.target.value)\n  }\n  //searching for person from search bar\n  let filter_persons = persons.filter(person=>person.name.toLowerCase().indexOf(search.toLowerCase())!==-1)\n\n  //creating a function for delete person\n  const deletePerson =(event)=>{\n    if (window.confirm(`Are you sure, you want to delete ${event.name}`)) {\n      console.log('it works!!!');\n      personService\n      .deletePersons(event.id)\n      let filter_persons2 = filter_persons.filter(person=> person.id !== event.id)\n      setPersons(filter_persons2)\n\n    }\n    console.log(persons)\n  }\n\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Success message={successMessage}/>\n        <Filter text={\"filter shown with\"} search={search} updateSearch={updateSearch}/>\n        <h2>Add a new</h2>\n      <PersonForm addName={addName} newN={newName} newN2={newNumber} handlenew={handleNewName} handlenew2={handleNewNumber} name1={\"name : \"} name2={\"number : \"}/>\n      <h2>Numbers</h2>\n      {filter_persons.map(person=>\n        <Person key={Math.random()}name ={person.name} number={person.number} onClick={()=>deletePerson(person)}/>\n        )}\n    </div>\n  )\n}\n\nexport default App\n\n\n","import ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}