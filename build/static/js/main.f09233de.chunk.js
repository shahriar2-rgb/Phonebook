(this.webpackJsonphu_test=this.webpackJsonphu_test||[]).push([[0],{39:function(e,n,t){},40:function(e,n,t){"use strict";t.r(n);var c=t(15),a=t.n(c),r=t(6),u=t(3),o=t(2),i=t(0),s=function(e){var n=e.name,t=e.number,c=e.onClick;return Object(i.jsxs)("li",{children:[n," ",t," ",Object(i.jsx)("button",{onClick:c,children:"delete"})]})},d=function(e){var n=e.text,t=e.search,c=e.updateSearch;return Object(i.jsxs)("div",{children:[n," ",Object(i.jsx)("input",{value:t,onChange:c})]})},l=function(e){var n=e.name,t=e.value,c=e.onChange;return Object(i.jsxs)("div",{children:[n,Object(i.jsx)("input",{value:t,onChange:c})]})},b=function(e){var n=e.newN,t=e.newN2,c=e.handlenew,a=e.handlenew2,r=e.addName,u=e.name1,o=e.name2;return Object(i.jsxs)("form",{onSubmit:r,children:[Object(i.jsx)(l,{name:u,value:n,onChange:c}),Object(i.jsx)(l,{name:o,value:t,onChange:a}),Object(i.jsx)("div",{children:Object(i.jsx)("button",{type:"submit",children:"add"})})]})},j=t(4),m=t.n(j),f="https://secure-shore-49535.herokuapp.com/api/persons",h=function(){return m.a.get(f).then((function(e){return e.data}))},O=function(e){return m.a.post(f,e).then((function(e){return e.data}))},v=function(e,n){return m.a.put("".concat(f,"/").concat(e),n).then((function(e){return e.data}))},p=function(e){m.a.delete("".concat(f,"/").concat(e))},x=function(e){var n=e.message;return null===n?null:Object(i.jsx)("div",{className:"success",children:n})},w=function(){Object(o.useEffect)((function(){console.log("effect"),h().then((function(e){return c(e)})).catch((function(e){return console.log(e)}))}),[]);var e=Object(o.useState)([{name:"Arto Hellas",number:"040-123456"},{name:"Ada Lovelace",number:"39-44-5323523"},{name:"Dan Abramov",number:"12-43-234345"},{name:"Mary Poppendieck",number:"39-23-6423122"}]),n=Object(u.a)(e,2),t=n[0],c=n[1],a=t.map((function(e){return e.name})),l=Object(o.useState)(""),j=Object(u.a)(l,2),m=j[0],f=j[1],w=Object(o.useState)(null),g=Object(u.a)(w,2),k=g[0],C=g[1],N=Object(o.useState)(""),S=Object(u.a)(N,2),A=S[0],y=S[1],L=Object(o.useState)(""),D=Object(u.a)(L,2),E=D[0],J=D[1],M=t.filter((function(e){return-1!==e.name.toLowerCase().indexOf(E.toLowerCase())}));return Object(i.jsxs)("div",{children:[Object(i.jsx)("h2",{children:"Phonebook"}),Object(i.jsx)(x,{message:k}),Object(i.jsx)(d,{text:"filter shown with",search:E,updateSearch:function(e){J(e.target.value)}}),Object(i.jsx)("h2",{children:"Add a new"}),Object(i.jsx)(b,{addName:function(e){e.preventDefault();var n={name:m,number:A};if(a.includes(m))if(window.confirm("".concat(m," is already added to phonebook, replace the old number with new one?"))){var u=t.find((function(e){return e.name===m})),o=Object(r.a)(Object(r.a)({},u),{},{number:A});console.log(u.id),v(u.id,o).then((function(e){c(t.map((function(n){return n.id!==u.id?n:e})))})),C("Added ".concat(m)),setTimeout((function(){C(null)}),5e3),f(""),y("")}else f(""),y("");else O(n).then((function(e){return c(t.concat(e))})),C("Added ".concat(m)),setTimeout((function(){C(null)}),5e3),f(""),y("")},newN:m,newN2:A,handlenew:function(e){f(e.target.value)},handlenew2:function(e){y(e.target.value)},name1:"name : ",name2:"number : "}),Object(i.jsx)("h2",{children:"Numbers"}),M.map((function(e){return Object(i.jsx)(s,{name:e.name,number:e.number,onClick:function(){return function(e){if(window.confirm("Are you sure, you want to delete ".concat(e.name))){console.log("it works!!!"),p(e.id);var n=M.filter((function(n){return n.id!==e.id}));c(n)}console.log(t)}(e)}},Math.random())}))]})};t(39);a.a.render(Object(i.jsx)(w,{}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.f09233de.chunk.js.map